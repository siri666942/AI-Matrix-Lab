# AI Matrix Lab v2.0 - 测试指南

## 🧪 Bug修复验证

### 测试1: 中文自然语言输入

**目标**: 验证Mock模式支持中文输入

**步骤**:
1. 打开应用
2. 确保"Mock AI模式"开关已开启
3. 在自然语言输入框输入以下中文命令：

| 输入 | 预期结果 |
|------|---------|
| `旋转45度` | 矩阵旋转45度 |
| `旋转90度` | 矩阵旋转90度 |
| `沿X轴反射` | X轴反射变换 |
| `沿Y轴反射` | Y轴反射变换 |
| `缩放2倍` | 矩阵放大2倍 |
| `剪切1.5` | 剪切变换 |
| `挤压` | 挤压变换 |

**预期**: 所有命令都能正确识别并应用变换

**验证**: 
- ✅ 显示"✓ 转换成功"提示
- ✅ 右侧可视化区域显示变换效果
- ✅ 矩阵输入框显示正确的数值

---

### 测试2: 预设变换累积效果

**目标**: 验证预设变换对当前矩阵进行变换，而非替换

**步骤**:
1. 确保在"2×2矩阵"模式
2. 手动输入矩阵: `[[2, 0], [0, 2]]` (缩放2倍)
3. 点击"旋转90°"预设按钮
4. 观察结果矩阵

**预期结果**:
```
初始矩阵: [[2, 0], [0, 2]]
点击旋转90°后: [[0, -2], [2, 0]]
```

**验证**:
- ✅ 矩阵不是 `[[0, -1], [1, 0]]` (错误的替换)
- ✅ 矩阵是 `[[0, -2], [2, 0]]` (正确的变换)
- ✅ 显示"✓ 已应用预设变换"提示

**进一步测试**:
```
步骤1: 单位矩阵 [[1, 0], [0, 1]]
步骤2: 点击"缩放2倍" → [[2, 0], [0, 2]]
步骤3: 点击"旋转90°" → [[0, -2], [2, 0]]
步骤4: 点击"X轴反射" → [[0, 2], [2, 0]]
```

每一步都应该累积前面的变换效果。

---

## ✨ 新功能测试

### 测试3: 3×3矩阵支持

**目标**: 验证3×3矩阵的基本功能

**步骤**:
1. 点击"3×3矩阵"标签
2. 输入测试矩阵:
   ```
   [[2, 1, 0],
    [1, 2, 1],
    [0, 1, 2]]
   ```
3. 观察数学属性区域

**预期结果**:
- 行列式: 4.0000
- 迹: 6.0000
- 特征值: 3个实数值
- 对称: ✓
- 正交: ✗
- 正定: ✓

**验证**:
- ✅ 所有属性正确显示
- ✅ 右侧显示矩阵详细信息
- ✅ 可以修改任意元素

---

### 测试4: 矩阵性质判定

**目标**: 验证对称性、正交性、正定性判定

#### 4.1 对称矩阵测试

**输入**:
```
[[1, 2, 3],
 [2, 4, 5],
 [3, 5, 6]]
```

**预期**: 对称: ✓

#### 4.2 非对称矩阵测试

**输入**:
```
[[1, 2, 3],
 [0, 4, 5],
 [0, 0, 6]]
```

**预期**: 对称: ✗

#### 4.3 正交矩阵测试

**输入** (单位矩阵):
```
[[1, 0, 0],
 [0, 1, 0],
 [0, 0, 1]]
```

**预期**: 
- 对称: ✓
- 正交: ✓
- 正定: ✓

#### 4.4 正定矩阵测试

**输入**:
```
[[2, -1, 0],
 [-1, 2, -1],
 [0, -1, 2]]
```

**预期**:
- 对称: ✓
- 正定: ✓

---

### 测试5: 相似对角化

**目标**: 验证相似对角化功能

**步骤**:
1. 切换到"3×3矩阵"
2. 输入对称矩阵:
   ```
   [[4, 1, 0],
    [1, 4, 1],
    [0, 1, 4]]
   ```
3. 点击"相似对角化"按钮

**预期结果**:
- 显示"✓ 对角化成功"
- 显示对角矩阵的对角元素（特征值）
- 提示信息包含"近似"说明

**验证**:
- ✅ 对角元素为实数
- ✅ 对角元素之和 ≈ 原矩阵的迹
- ✅ 对角元素之积 ≈ 原矩阵的行列式

---

### 测试6: 合同变换

**目标**: 验证合同变换功能

**步骤**:
1. 输入对称矩阵:
   ```
   [[2, 1, 0],
    [1, 2, 1],
    [0, 1, 2]]
   ```
2. 点击"合同变换"按钮

**预期结果**:
- 显示"✓ 合同变换完成"
- 提示信息说明这是简化版本

**验证**:
- ✅ 对称矩阵可以进行合同变换
- ✅ 非对称矩阵显示错误提示

---

### 测试7: 计算属性按钮

**目标**: 验证"计算属性"按钮功能

**步骤**:
1. 输入任意3×3矩阵
2. 点击"计算属性"按钮

**预期结果**:
- 弹出Toast提示
- 显示矩阵的对称性、正交性
- 如果对称，显示正定性

**示例输出**:
```
✓ 矩阵属性
对称性: 是
正交性: 否
正定性: 是
```

---

## 🎨 UI测试

### 测试8: 维度切换

**目标**: 验证2×2和3×3矩阵切换

**步骤**:
1. 在2×2模式输入矩阵 `[[2, 1], [1, 2]]`
2. 切换到3×3模式
3. 输入矩阵 `[[1, 0, 0], [0, 1, 0], [0, 0, 1]]`
4. 切换回2×2模式

**预期**:
- ✅ 每个模式保持独立的矩阵状态
- ✅ 切换时不丢失数据
- ✅ UI正确显示对应的输入框

---

### 测试9: 响应式布局

**目标**: 验证不同屏幕尺寸的显示效果

**步骤**:
1. 在桌面浏览器打开（≥1280px）
2. 调整窗口大小到平板尺寸（768px-1280px）
3. 调整到手机尺寸（<768px）

**预期**:
- ✅ 桌面：左右两栏布局
- ✅ 平板：左右两栏，间距调整
- ✅ 手机：上下堆叠布局

---

## 🔄 集成测试

### 测试10: 完整工作流

**场景**: 从自然语言到可视化的完整流程

**步骤**:
1. 输入中文命令"旋转45度"
2. 观察可视化效果
3. 点击"缩放2倍"预设
4. 观察累积效果
5. 切换到"F字形"图形
6. 观察不同图形的变换效果

**预期**:
- ✅ 每一步都正确执行
- ✅ 可视化实时更新
- ✅ 数学属性正确计算

---

### 测试11: 3×3矩阵完整流程

**步骤**:
1. 切换到3×3矩阵
2. 输入对称矩阵
3. 点击"计算属性"
4. 点击"相似对角化"
5. 点击"合同变换"
6. 修改矩阵元素
7. 重新计算

**预期**:
- ✅ 所有功能正常工作
- ✅ 属性实时更新
- ✅ 提示信息准确

---

## 🐛 边界测试

### 测试12: 异常输入

**测试用例**:

| 输入 | 预期行为 |
|------|---------|
| 空字符串 | 提示"输入为空" |
| 无法识别的命令 | 提示"无法识别" |
| 非数字矩阵元素 | 自动转为0 |
| 奇异矩阵（det=0） | 显示"矩阵不可逆"警告 |

---

### 测试13: 极端值

**测试用例**:

| 矩阵 | 预期 |
|------|------|
| 全零矩阵 | det=0, 不可逆 |
| 超大数值（1e10） | 正常计算 |
| 超小数值（1e-10） | 正常计算 |
| 负数矩阵 | 正常计算 |

---

## ✅ 测试清单

### Bug修复
- [ ] 中文命令识别（测试1）
- [ ] 预设变换累积（测试2）

### 新功能
- [ ] 3×3矩阵支持（测试3）
- [ ] 矩阵性质判定（测试4）
- [ ] 相似对角化（测试5）
- [ ] 合同变换（测试6）
- [ ] 计算属性（测试7）

### UI功能
- [ ] 维度切换（测试8）
- [ ] 响应式布局（测试9）

### 集成测试
- [ ] 完整工作流（测试10）
- [ ] 3×3完整流程（测试11）

### 边界测试
- [ ] 异常输入（测试12）
- [ ] 极端值（测试13）

---

## 📊 测试报告模板

```
测试日期: ____________________
测试人员: ____________________
浏览器: ____________________

Bug修复验证:
- 中文输入: [ ] 通过 [ ] 失败
- 预设变换: [ ] 通过 [ ] 失败

新功能测试:
- 3×3矩阵: [ ] 通过 [ ] 失败
- 性质判定: [ ] 通过 [ ] 失败
- 对角化: [ ] 通过 [ ] 失败
- 合同变换: [ ] 通过 [ ] 失败

UI测试:
- 维度切换: [ ] 通过 [ ] 失败
- 响应式: [ ] 通过 [ ] 失败

问题记录:
1. ________________________________
2. ________________________________
3. ________________________________

总体评价: [ ] 优秀 [ ] 良好 [ ] 需改进
```

---

## 🚀 快速验证命令

```bash
# 运行lint检查
npm run lint

# 检查文件数量
find src -name "*.ts" -o -name "*.tsx" | wc -l

# 检查代码行数
find src -name "*.ts" -o -name "*.tsx" | xargs wc -l | tail -1
```

---

**测试完成后**: 如果所有测试通过，应用已准备好发布v2.0版本！
