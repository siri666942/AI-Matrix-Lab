# AI Matrix Lab 使用指南

## 快速开始

### 1. Mock模式（无需API密钥）

这是最简单的使用方式，适合快速体验和学习：

1. 打开应用，默认已开启"Mock AI模式"
2. 在"自然语言输入"框中输入以下命令之一：
   - `rotate 45` - 旋转45度
   - `rotate 90` - 旋转90度
   - `reflect x` - 沿X轴反射
   - `reflect y` - 沿Y轴反射
   - `scale 2` - 缩放2倍
   - `shear 1.5` - 剪切变换
   - `squeeze` - 挤压变换

3. 点击"转换"按钮或按Enter键
4. 观察右侧可视化区域的变换效果

### 2. 手动输入矩阵

直接控制矩阵的每个元素：

1. 在"矩阵输入"卡片中，有4个输入框对应矩阵的4个元素：
   ```
   [a  b]
   [c  d]
   ```

2. 修改任意数值，变换会实时更新

3. 示例矩阵：
   - 单位矩阵：`[[1, 0], [0, 1]]` - 无变换
   - 旋转90°：`[[0, -1], [1, 0]]`
   - 缩放2倍：`[[2, 0], [0, 2]]`
   - 水平剪切：`[[1, 1], [0, 1]]`

### 3. 使用预设变换

快速体验常见变换：

- **单位矩阵**：恢复原始状态
- **旋转90°**：逆时针旋转90度
- **旋转45°**：逆时针旋转45度
- **X轴反射**：沿X轴镜像
- **Y轴反射**：沿Y轴镜像
- **剪切**：水平剪切变换
- **挤压**：垂直方向压缩，水平方向拉伸
- **缩放2倍**：整体放大2倍

### 4. 真实AI模式

使用OpenAI API进行更智能的自然语言解析：

1. 关闭"Mock AI模式"开关
2. 输入你的OpenAI API密钥（sk-...）
3. （可选）修改API地址：
   - OpenAI: `https://api.openai.com/v1`
   - DeepSeek: `https://api.deepseek.com/v1`
   - Moonshot: `https://api.moonshot.cn/v1`
   - 其他兼容OpenAI格式的API

4. 输入更复杂的变换描述，例如：
   - "Rotate the shape by 30 degrees counterclockwise"
   - "Apply a horizontal shear transformation with factor 0.5"
   - "Scale by 1.5 in x direction and 0.8 in y direction"

## 理解可视化

### 颜色含义

- **蓝色虚线**：原始图形（变换前）
- **红色实线**：变换后的图形
- **绿色箭头**：特征向量（仅当特征值为实数时显示）

### 图形类型

切换不同的图形以更好地理解变换：

- **正方形**：最简单的图形，适合初学者
- **F字形**：非对称图形，能清楚看到旋转和反射效果
- **网格点**：点阵模式，适合观察整体变换趋势

### 数学属性

应用会自动计算并显示：

1. **行列式 (Determinant)**
   - 表示变换对面积的缩放因子
   - det = 0 表示矩阵不可逆（降维）
   - det < 0 表示变换改变了方向（镜像）

2. **特征值 (Eigenvalues)**
   - 表示沿特征向量方向的缩放因子
   - 可能是实数或复数
   - 复数特征值表示旋转分量

3. **特征向量 (Eigenvectors)**
   - 变换后方向不变的向量
   - 仅在特征值为实数时显示（绿色箭头）

## 实用示例

### 示例1：理解旋转

1. 点击"旋转90°"预设按钮
2. 观察：
   - 矩阵变为 `[[0, -1], [1, 0]]`
   - 行列式 = 1（面积不变）
   - 特征值为复数（表示纯旋转）
   - 图形逆时针旋转90度

### 示例2：理解反射

1. 点击"X轴反射"
2. 观察：
   - 矩阵变为 `[[1, 0], [0, -1]]`
   - 行列式 = -1（方向改变）
   - 特征值为 1 和 -1
   - 绿色箭头显示特征向量

### 示例3：理解剪切

1. 点击"剪切"
2. 观察：
   - 矩阵变为 `[[1, 1], [0, 1]]`
   - 行列式 = 1（面积不变）
   - 图形水平方向被"推"了一下
   - 垂直线变成斜线

### 示例4：自定义变换

尝试输入以下矩阵：

```
[[2, 1], [1, 2]]
```

观察：
- 行列式 = 3（面积扩大3倍）
- 特征值约为 3 和 1
- 沿两个特征向量方向有不同的缩放

## 常见问题

### Q: 为什么有时候看不到绿色箭头？

A: 绿色箭头代表特征向量，只有当特征值为实数时才会显示。如果矩阵包含旋转分量，特征值可能是复数，此时不显示特征向量。

### Q: Mock模式和真实AI模式有什么区别？

A: Mock模式使用本地规则匹配，只能识别预定义的命令；真实AI模式调用OpenAI API，可以理解更复杂、更自然的语言描述。

### Q: 如何获取OpenAI API密钥？

A: 访问 https://platform.openai.com/api-keys 注册并创建API密钥。也可以使用兼容的国内API服务（如DeepSeek、Moonshot）。

### Q: 矩阵不可逆是什么意思？

A: 当行列式为0时，矩阵不可逆，表示变换将2D空间压缩到1D（一条线）或0D（一个点），信息丢失无法恢复。

## 学习建议

1. **从预设开始**：先点击所有预设按钮，观察每种变换的效果
2. **修改参数**：在预设基础上微调矩阵元素，观察变化
3. **尝试组合**：思考如何组合多个变换达到特定效果
4. **关注数学属性**：理解行列式和特征值与几何变换的关系
5. **切换图形**：用不同图形观察同一变换，加深理解

## 技术说明

### 矩阵运算

应用实现了完整的2x2矩阵运算库：

- 矩阵-向量乘法
- 行列式计算
- 特征值计算（支持复数）
- 特征向量计算

### Canvas绘图

使用原生Canvas API进行高性能绘制：

- 坐标系范围：[-5, 5] × [-5, 5]
- 自动缩放和居中
- 实时更新，无延迟

### API集成

支持任何兼容OpenAI格式的API：

- 标准OpenAI API
- DeepSeek API
- Moonshot API
- 自部署的兼容服务

## 反馈与支持

如有问题或建议，欢迎反馈！
